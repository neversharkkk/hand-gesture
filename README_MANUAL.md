# Hand Gesture Recognition - 手势识别程序

## 功能概述

本程序是一个基于OpenCV的手势识别应用，支持多种交互模式。

## 模式说明

| 按键 | 模式 | 功能描述 |
|------|------|---------|
| 1 | 鼠标控制模式 | 通过手势控制鼠标移动 |
| 2 | 手势识别模式 | 识别手势（拳头、手掌、胜利等） |
| 3 | ASCII艺术模式 | 将手部区域转换为ASCII艺术效果 |
| 4 | 8色调色板模式 | 提取并应用8种主色调 |
| 5 | 音乐合成器模式 | ASCII艺术+音乐合成器联动 |
| r | 重置历史 | 清除所有历史数据 |
| q/x | 退出程序 | 关闭应用 |

## 模式详情

### 模式1：鼠标控制模式
- 手部位置映射到屏幕坐标
- 自动控制鼠标移动

### 模式2：手势识别模式
- 识别多种手势：Fist(拳头)、Paper(手掌)、Victory(胜利)、One(一根手指)等
- 显示手势名称和手指数量

### 模式3：ASCII艺术模式
- 将手部区域转换为ASCII字符艺术
- 字符颜色根据亮度产生蓝色渐变
- 字符大小：4-8像素

### 模式4：8色调色板模式
- 实时提取画面中的8种主色调
- 应用生动的色彩映射效果
- 显示颜色调色板

### 模式5：音乐合成器模式
- ASCII艺术背景显示
- 手势控制音乐合成器参数
- 字符种类和大小随合成器参数变化

#### 合成器参数映射

| 参数 | 控制方式 |
|------|---------|
| 主频率 | 手的Y位置（高=高频，低=低频）80-780Hz |
| LFO速率 | 手的X位置 0.3-4.3Hz |
| LFO深度 | 手的面积 |
| 滤波器截止 | 手的X位置 200-2200Hz |
| 失谐 | 手指数量 |
| LFO类型 | 手指数量（Sin/Square/Triangle） |

#### 颜色影响合成器

| 颜色属性 | 合成器参数 |
|---------|-----------|
| 色相 | 频率偏移 ±25% |
| 饱和度 | LFO深度 + 泛音丰富度 |
| 明度 | 滤波器亮度 + 音量 |

## 技术特性

### 摄像头自动适配
- 自动检测摄像头支持的最高分辨率
- 支持分辨率：1920x1080、1280x720、640x480
- 根据分辨率自动调整检测参数

### 手部检测算法
- 多颜色空间融合皮肤检测（HSV、YCrCb、LAB）
- 背景减除（MOG2）
- 形态学处理优化

### 音频合成
- 基于sounddevice库的实时音频合成
- 双振荡器设计
- LFO调制
- 包络控制
- 延迟效果

## 安装依赖

```bash
pip install opencv-python numpy pyautogui sounddevice
```

## 运行程序

```bash
python main.py
```

## 文件结构

```
V/
├── main.py              # 主程序
├── main_backup.py       # 程序备份
├── README_MANUAL.md     # 本说明文档
├── requirements.txt     # 依赖列表
├── icon.ico             # 程序图标
└── hand_landmarker.task # 手部检测模型
```

## 系统要求

- Python 3.8+
- Windows/macOS/Linux
- 摄像头设备
- 音频输出设备（模式5需要）

## 注意事项

1. 确保摄像头已正确连接
2. 模式5需要安装sounddevice库
3. 点击窗口右上角X或按q/x键退出程序
4. 良好的光线条件有助于手势识别

## 版本信息

- 版本：1.0
- 更新日期：2026-02-18
- 开发环境：Python 3.x + OpenCV
